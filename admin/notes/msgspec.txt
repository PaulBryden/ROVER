
|_ _ _ _1_ _ _ _|_ _ _ _2_ _ _ _|_ _ _ _3_ _ _ _|_ _ _ _4_ _ _ _|_ _ _ _5_ _ _ _|_ _ _ _6_ _ _ _|
|size (6)   |flags (5)|msg (5)  |target(8)      |source (8)     |packet (8)     |crc (8)        |

size (6 bits): size of packet in bytes (0 for 64 bytes)
flags (5 bits): bit field for packet flags, such as prioritise, expects response, delivery failed... remaining bits are reserved for future use
msg (5 bits): message id, used to make sure packets are matched up correctly
target (8 bits): target service id
source (8 bits): source service id
packet (8 bits): packet number
crc (8 bits): crc-8 code



DRAFT STRUCT TYPEDEFS:


typedef unsigned short int uint_t;

typedef struct {
	uint_t size : 6;
	uint_t priorty : 1;
	uint_t response : 1;
	uint_t failure : 1;
	uint_t msgid : 5;
	service_t *target;
	service_t *source;
	uint_t packetno : 8;
	uint_t crc : 8;
	char *content;
} packet_t;

typedef struct {
	service_t *source;
	service_t *target;
	char *content;
} message_t;

typedef struct {
	uint_t id : 8;
	char *name;
	uint_t port : 2;
	uint_t dist : 4;
} service_t;